// fetch('https://open.er-api.com/v6/latest/USD').then(res => res.json())
//      .then(data => {
//             //Ця функція запускається коли дані завантажуються.
//             //Інший код працює РАНШЕ.
//             //тільки тут є змінна data з завантаженими даними
//             console.log(data) // Вивчіть структуру, що отримується з сервера в консолі
//         })
// Напишіть всередині анонімної функції, переданої в then (data =>):
// цикл, що перебирає курси;
// на кожній ітерації створюється кнопка (document.createElement)
// текст кнопки - назва валюти (innerHTML або innerText)
// Призначте обробник події на цій кнопці (onclick = () => {.....}). 
// Функція-обробник має бути написана прямо в тілі циклу
// Обробник повинен запитувати суму використовуючи prompt і конвертувати цю суму з валюти, написаної на кнопці в USD
// Знайдіть замикання. Для доступу до валют з data.rates використовуйте [], . тут не допоможе.
//  Кнопки додавайте в спеціальний контейнер (div наприклад), створений в HTML, або, на крайній край, в body

fetch('https://open.er-api.com/v6/latest/USD')
    .then(res => res.json())
    .then(data => {
        // Ця функція запускається, коли дані завантажуються.
        // Інший код працює РАНШЕ.
        // Тільки тут є змінна data з завантаженими даними
        console.log(data); // Вивчіть структуру, що отримується з сервера в консолі

        // Створюємо контейнер для кнопок
        const buttonContainer = document.getElementById('button-container');

        // Перебираємо курси
        for (const currency in data.rates) {
            // Створюємо кнопку
            const button = document.createElement('button');

            // Встановлюємо текст кнопки (назва валюти)
            button.innerText = currency;

            // Додаємо обробник події для кнопки
            button.onclick = () => {
                // Запитуємо суму використовуючи prompt
                const amount = parseFloat(prompt(`Введіть суму в ${currency}:`));

                // Перевіряємо, чи користувач ввів числове значення
                if (!isNaN(amount)) {
                    // Конвертуємо суму з валюти, написаної на кнопці, в USD
                    const convertedAmount = amount / data.rates[currency];

                    // Виводимо результат у вікні alert
                    alert(`${amount} ${currency} = ${convertedAmount.toFixed(2)} USD`);
                } else {
                    // Виводимо повідомлення про помилку, якщо користувач не ввів числове значення
                    alert('Будь ласка, введіть числове значення.');
                }
            };

            // Додаємо кнопку до контейнера
            buttonContainer.appendChild(button);
        }
    })
    .catch(error => {
        console.error('Помилка при завантаженні даних:', error);
    });
